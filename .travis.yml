language: cpp

dist: trusty
sudo: required

compiler:
  - gcc

before_script:
  - wget https://www.sfml-dev.org/files/SFML-2.4.2-linux-gcc-64-bit.tar.gz -O /tmp/sfml.tar.gz
  - gzip -d /tmp/sfml.tar.gz
  - sudo cp -r dependencies/SFML/* /usr/
  - sudo apt-get install -y libjpeg62-dev libsndfile1-dev libglew1.5 libglew1.5-dev libfreetype6 libjpeg-turbo8 libjpeg8 libopenal-data libopenal1  libxrandr2 libxrender1 libsoil1 


addons:
  sonarcloud:
    organization: "pawelworwa-github"
    token:
      secure: "89a5ecb69279328a0c52f2ec9d3416b2a53c65aa"
script:
  - make
  - build-wrapper-linux-x86-64 --out-dir bw-output make clean all
  - sonar-scanner
cache:
  directories:
    - '$HOME/.sonar/cache'
      